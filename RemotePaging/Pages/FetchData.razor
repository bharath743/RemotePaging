@page "/fetchdata"
@using System.Collections.ObjectModel
@inject ServerService server

<PageTitle>Weather forecast</PageTitle>

<TelerikGrid Pageable=true TItem="Info" OnRead="ReadAsync" AutoGenerateColumns=true>
    <GridColumns>
        <GridAutoGeneratedColumns></GridAutoGeneratedColumns>
    </GridColumns>
</TelerikGrid>



@code {

    public ObservableCollection<Info> GetInfos = new ObservableCollection<Info>();

    protected async Task ReadAsync(GridReadEventArgs args)
    {
        var data = await server.GetAsync(args.Request.PageSize, args.Request.Page > 1 ? args.Request.PageSize : 0);
        await Task.Delay(1000);
        args.Data = data;
        args.Total = data.Count;
    }

}
